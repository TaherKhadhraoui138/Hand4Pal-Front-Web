<div class="create-campaign-container">
    <div class="container">
        <div class="page-header">
            <div class="header-content">
                <h1>Create New Campaign</h1>
                <p>Launch a new fundraising campaign to support your cause</p>
            </div>
            <a routerLink="/association-dashboard" class="btn btn-outline">‚Üê Back to Dashboard</a>
        </div>

        <!-- Success/Error Messages -->
        <div *ngIf="success" class="alert alert-success">
            {{ success }}
        </div>
        <div *ngIf="error" class="alert alert-error">
            {{ error }}
        </div>

        <div class="form-layout">
            <!-- Main Form -->
            <div class="form-section">
                <form class="campaign-form" [formGroup]="campaignForm" (ngSubmit)="onSubmit()">
                    <div class="section-card">
                        <h2>Campaign Details</h2>

                        <div class="form-group">
                            <label>Campaign Title <span class="required">*</span></label>
                            <input 
                                type="text" 
                                formControlName="title"
                                placeholder="e.g., Emergency Medical Aid for Gaza"
                                [class.invalid]="title?.invalid && title?.touched"
                            >
                            <span class="helper-text">Choose a clear and compelling title (min 10 characters)</span>
                            <span *ngIf="title?.invalid && title?.touched" class="error-text">
                                <span *ngIf="title?.errors?.['required']">Title is required</span>
                                <span *ngIf="title?.errors?.['minlength']">Title must be at least 10 characters</span>
                            </span>
                        </div>

                        <div class="form-group">
                            <label>Category <span class="required">*</span></label>
                            <select 
                                formControlName="category"
                                [class.invalid]="category?.invalid && category?.touched"
                            >
                                <option value="">Select a category</option>
                                <option *ngFor="let cat of categories" [value]="cat.value">{{ cat.label }}</option>
                            </select>
                            <span *ngIf="category?.invalid && category?.touched" class="error-text">
                                Please select a category
                            </span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Funding Goal <span class="required">*</span></label>
                                <div class="input-with-prefix">
                                    <span class="input-prefix">DT</span>
                                    <input 
                                        type="number" 
                                        formControlName="targetAmount"
                                        placeholder="10000" 
                                        min="100"
                                        [class.invalid]="targetAmount?.invalid && targetAmount?.touched"
                                    >
                                </div>
                                <span *ngIf="targetAmount?.invalid && targetAmount?.touched" class="error-text">
                                    <span *ngIf="targetAmount?.errors?.['required']">Funding goal is required</span>
                                    <span *ngIf="targetAmount?.errors?.['min']">Minimum goal is $100</span>
                                </span>
                            </div>
                            <div class="form-group">
                                <label>End Date <span class="required">*</span></label>
                                <input 
                                    type="date" 
                                    formControlName="endDate"
                                    [min]="minEndDate"
                                    [class.invalid]="endDate?.invalid && endDate?.touched"
                                >
                                <span *ngIf="endDate?.invalid && endDate?.touched" class="error-text">
                                    End date is required
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Campaign Description <span class="required">*</span></label>
                            <textarea 
                                rows="8"
                                formControlName="description"
                                placeholder="Provide detailed information about your campaign, including goals, impact, and how funds will be used..."
                                [class.invalid]="description?.invalid && description?.touched"
                            ></textarea>
                            <span class="helper-text">Minimum 50 characters. Be detailed and compelling.</span>
                            <span *ngIf="description?.invalid && description?.touched" class="error-text">
                                <span *ngIf="description?.errors?.['required']">Description is required</span>
                                <span *ngIf="description?.errors?.['minlength']">Description must be at least 50 characters</span>
                            </span>
                        </div>

                        <div class="form-group">
                            <label>Image URL (Optional)</label>
                            <input 
                                type="url" 
                                formControlName="imageUrl"
                                placeholder="https://example.com/image.jpg"
                            >
                            <span class="helper-text">Provide a URL to an image for your campaign</span>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button 
                            type="submit" 
                            class="btn btn-primary"
                            [disabled]="isLoading"
                        >
                            <span *ngIf="isLoading">Submitting...</span>
                            <span *ngIf="!isLoading">Submit for Review</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Sidebar Tips -->
            <aside class="tips-sidebar">
                <div class="tip-card">
                    <h3>üí° Tips for Success</h3>
                    <ul class="tips-list">
                        <li>Use a clear, high-quality image that represents your cause</li>
                        <li>Be specific about how funds will be used</li>
                        <li>Set a realistic funding goal</li>
                        <li>Tell a compelling story with emotional appeal</li>
                        <li>Include data and statistics when possible</li>
                        <li>Update supporters regularly</li>
                    </ul>
                </div>

                <div class="tip-card">
                    <h3>üìã Campaign Checklist</h3>
                    <ul class="checklist">
                        <li>‚úì Compelling title</li>
                        <li>‚úì Clear funding goal</li>
                        <li>‚úì Detailed description</li>
                        <li>‚úì High-quality image</li>
                        <li>‚úì Realistic timeline</li>
                        <li>‚úì Regular updates plan</li>
                    </ul>
                </div>

                <div class="tip-card warning-card">
                    <h3>‚ö†Ô∏è Important</h3>
                    <p>Your campaign will be reviewed by our team before going live. This typically takes 1-2 business
                        days.</p>
                </div>
            </aside>
        </div>
    </div>
</div>